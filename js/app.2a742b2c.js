(function(){"use strict";var e={4176:function(e,t,n){var a=n(9242),r=n(3396);const i={key:0,class:"container"},s={key:1,class:"loading"},l=(0,r._)("div",{class:"loading__el"},null,-1),c=[l];function u(e,t,n,a,l,u){const o=(0,r.up)("Header"),g=(0,r.up)("Main"),d=(0,r.up)("Week");return(0,r.wg)(),(0,r.iD)(r.HY,null,[e.getFullWeather?((0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(o),(0,r.Wm)(g)])):((0,r.wg)(),(0,r.iD)("div",s,c)),e.getFullWeather?((0,r.wg)(),(0,r.j4)(d,{key:2})):(0,r.kq)("",!0)],64)}var o=n.p+"img/logo.af34f1a1.svg",g=n.p+"img/drop.458cfa98.svg";const d={class:"header"},_={class:"header__nav"},h=(0,r._)("a",{href:"",class:"header__logo"},[(0,r._)("img",{src:o,alt:""}),(0,r._)("span",null,"vue weather")],-1),m={class:"header__search"},p=(0,r._)("img",{src:g,alt:""},null,-1);function w(e,t,n,i,s,l){return(0,r.wg)(),(0,r.iD)("header",d,[(0,r._)("nav",_,[h,(0,r._)("div",m,[p,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),placeholder:"Выбрать город",type:"text",class:"header__input",onKeydown:t[1]||(t[1]=(0,a.D2)((t=>(e.getWeather(s.search),s.search="")),["enter"]))},null,544),[[a.nr,s.search]])])])])}var v=n(65),f={data(){return{search:""}},methods:{...(0,v.nv)(["getWeather"])}},y=n(89);const W=(0,y.Z)(f,[["render",w]]);var k=W;const D={class:"main"};function F(e,t,n,a,i,s){const l=(0,r.up)("MainContent");return(0,r.wg)(),(0,r.iD)("main",D,[(0,r.Wm)(l)])}var b=n(7139),z=n.p+"img/bg.49cd7fce.svg",M=n.p+"img/sun.10b0fd02.svg",T=n.p+"img/rain.66b03987.svg",C=n.p+"img/mainly_cloudy.714cdf6c.svg",O=n.p+"img/small_rain.aba71dd4.svg",U=n.p+"img/small_rain_sun.4143d707.svg",j=n.p+"img/temp.5012f3aa.svg",x=n.p+"img/pressure.dec93a4d.svg",Z=n.p+"img/osadki.b2bec82d.svg",H=n.p+"img/wind.e3f8caaa.svg";const S={class:"main__content"},K={class:"main__left"},$=(0,r._)("img",{src:z,alt:"",class:"main__left-bg"},null,-1),A={class:"main__left-temp"},L=(0,r._)("p",{class:"main__left-today"},"Сегодня",-1),R={class:"main__left-time"},q={class:"main__left-city"},P={class:"main__left-icon"},Y={key:0,src:M,alt:""},E={key:1,src:T,alt:""},N={key:2,src:C,alt:""},V={key:3,src:O,alt:""},B={key:4,src:U,alt:""},G={key:5,src:C,alt:""},I={class:"main__right"},J=(0,r._)("img",{src:z,alt:"",class:"main__right-bg"},null,-1),Q={class:"main__right-item"},X=(0,r._)("div",{class:"main__right-icon"},[(0,r._)("img",{src:j,alt:""})],-1),ee=(0,r._)("span",null,"Температура",-1),te={class:"main__right-item"},ne=(0,r._)("div",{class:"main__right-icon"},[(0,r._)("img",{src:x,alt:""})],-1),ae=(0,r._)("span",null,"Давление ",-1),re={class:"main__right-item"},ie=(0,r._)("div",{class:"main__right-icon"},[(0,r._)("img",{src:Z,alt:""})],-1),se=(0,r._)("span",null,"Осадки",-1),le={class:"main__right-item"},ce=(0,r._)("div",{class:"main__right-icon"},[(0,r._)("img",{src:H,alt:""})],-1),ue=(0,r._)("span",null,"Ветер",-1);function oe(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",S,[(0,r._)("div",K,[$,(0,r._)("h1",A,(0,b.zw)(Math.round(e.getFullWeather.current.temp))+"°",1),L,(0,r._)("p",R,"Время: "+(0,b.zw)(i.hours)+":"+(0,b.zw)(i.minutes),1),(0,r._)("p",q,"Город: "+(0,b.zw)(e.getFullWeather.name),1),(0,r._)("div",P,["ясно"==s.description?((0,r.wg)(),(0,r.iD)("img",Y)):"дождь"==s.description?((0,r.wg)(),(0,r.iD)("img",E)):"пасмурно"==s.description?((0,r.wg)(),(0,r.iD)("img",N)):"небольшой дождь"==s.description?((0,r.wg)(),(0,r.iD)("img",V)):"небольшой дождь и солнце"==s.description?((0,r.wg)(),(0,r.iD)("img",B)):((0,r.wg)(),(0,r.iD)("img",G))])]),(0,r._)("div",I,[J,(0,r._)("div",Q,[X,ee,(0,r._)("span",null,(0,b.zw)(Math.round(e.getFullWeather.current.temp))+"° - ощущается как "+(0,b.zw)(Math.round(e.getFullWeather.current.feels_like))+"°",1)]),(0,r._)("div",te,[ne,ae,(0,r._)("span",null,(0,b.zw)(e.getFullWeather.current.pressure)+" мм ртутного столба - нормальное",1)]),(0,r._)("div",re,[ie,se,(0,r._)("span",null,(0,b.zw)(e.getFullWeather.current.humidity)+" %",1)]),(0,r._)("div",le,[ce,ue,(0,r._)("span",null,(0,b.zw)(Math.round(e.getFullWeather.current.wind_speed))+" м/с "+(0,b.zw)(s.getDirection)+" - "+(0,b.zw)(Math.round(e.getFullWeather.current.wind_speed)<10?"легкий ветер":"сильный ветер"),1)])])])}var ge={data(){return{hours:null,minutes:null}},methods:{getTime(){this.hours=(new Date).getUTCHours()<10?"0"+(new Date).getUTCHours()+this.getFullWeather.timezone_offset/3600:(new Date).getUTCHours()+this.getFullWeather.timezone_offset/3600,this.minutes=(new Date).getUTCMinutes()<10?"0"+(new Date).getUTCMinutes():(new Date).getUTCMinutes();setTimeout((()=>{this.getTime()}),1e3)}},mounted(){this.getTime()},computed:{...(0,v.Se)(["getFullWeather"]),description(){return this.getFullWeather.current.weather[0].description},getDirection(){return 0==this.getFullWeather.current.wind_deg||360==this.getFullWeather.current.wind_deg?"Северный":90==this.getFullWeather.current.wind_deg?"Восточный":180==this.getFullWeather.current.wind_deg?"Южный":270==this.getFullWeather.current.wind_deg?"Западный":this.getFullWeather.current.wind_deg>0&&this.getFullWeather.current.wind_deg<90?"Северо-Восток":this.getFullWeather.current.wind_deg>90&&this.getFullWeather.current.wind_deg<180?"Юго-Восток":this.getFullWeather.current.wind_deg>180&&this.getFullWeather.current.wind_deg<270?"Юго-Зарад":this.getFullWeather.current.wind_deg>270&&this.getFullWeather.current.wind_deg<360?"Северо-Зарад":void 0}}};const de=(0,y.Z)(ge,[["render",oe]]);var _e=de,he={components:{MainContent:_e}};const me=(0,y.Z)(he,[["render",F]]);var pe=me;const we={class:"main__week"},ve={class:"container"},fe={class:"main__week-btns"},ye={class:"main__week-block"},We={class:"container"};function ke(e,t,n,a,i,s){const l=(0,r.up)("Day");return(0,r.wg)(),(0,r.iD)("div",we,[(0,r._)("div",ve,[(0,r._)("div",fe,[(0,r._)("button",{class:"main__week-btn",onClick:t[0]||(t[0]=e=>i.show=!i.show)},"На неделю"),(0,r._)("button",{class:"main__week-btn",onClick:t[1]||(t[1]=t=>e.getWeather("Tashkent"))},"Отменить")])]),(0,r._)("div",ye,[(0,r._)("div",We,[(0,r._)("div",{class:(0,b.C_)(["main__week-days",{active:i.show}])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.getDailyWeather,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:t,day:e,i:t},null,8,["day","i"])))),128))],2)])])])}const De={class:"main__week-title"},Fe={class:"main__week-date"},be={class:"main__week-img"},ze={key:0,src:M,alt:""},Me={key:1,src:T,alt:""},Te={key:2,src:C,alt:""},Ce={key:3,src:O,alt:""},Oe={key:4,src:U,alt:""},Ue={key:5,src:C,alt:""},je={class:"main__week-temp"},xe={class:"main__week-feels"},Ze={class:"main__week-desc"};function He(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",{class:(0,b.C_)(["main__week-day",{active:i.cardActive}]),onClick:t[0]||(t[0]=e=>i.cardActive=!i.cardActive)},[(0,r._)("h3",De,(0,b.zw)(0==n.i?"Сегодня":1==n.i?"Завтра":s.getWeek),1),(0,r._)("p",Fe,(0,b.zw)(s.getDay)+" "+(0,b.zw)(s.getMonth),1),(0,r._)("div",be,["ясно"==s.description?((0,r.wg)(),(0,r.iD)("img",ze)):"дождь"==s.description?((0,r.wg)(),(0,r.iD)("img",Me)):"пасмурно"==s.description?((0,r.wg)(),(0,r.iD)("img",Te)):"небольшой дождь"==s.description?((0,r.wg)(),(0,r.iD)("img",Ce)):"небольшой дождь и солнце"==s.description?((0,r.wg)(),(0,r.iD)("img",Oe)):((0,r.wg)(),(0,r.iD)("img",Ue))]),(0,r._)("p",je,(0,b.zw)(Math.round(n.day.temp.max))+"°",1),(0,r._)("p",xe,(0,b.zw)(Math.round(n.day.feels_like.day))+"°",1),(0,r._)("p",Ze,(0,b.zw)(n.day.weather[0].description),1)],2)}function Se(e,t){const n=1e3*e,a=new Date(n);let r="month"==t?a.toLocaleString("ru-RU",{month:"long"}):"week"==t?a.toLocaleString("ru-RU",{weekday:"long"}):"day"==t?a.toLocaleString("ru-RU",{day:"numeric"}):"";return r}var Ke=Se,$e={props:{day:Object,i:Number},computed:{description(){return this.day.weather[0].description},getMonth(){let e=Ke(this.day.dt,"month");return"январь"==e?"янв":"февраль"==e?"фев":"апрель"==e?"апр":"август"==e?"авг":"сентябрь"==e?"сент":"октябрь"==e?"окт":"ноябрь"==e?"нояб":"декабрь"==e?"дек":e},getWeek(){let e=Ke(this.day.dt,"week");return"понедельник"==e?"Пн":"вторник"==e?"Вт":"среда"==e?"Ср":"четверг"==e?"Чт":"пятница"==e?"Пт":"суббота"==e?"Сб":"воскресенье"==e?"Вс":void 0},getDay(){return Ke(this.day.dt,"day")}},data(){return{cardActive:!1}}};const Ae=(0,y.Z)($e,[["render",He]]);var Le=Ae,Re={data(){return{show:!1}},components:{Day:Le},computed:{...(0,v.Se)(["getDailyWeather"])},methods:{...(0,v.nv)(["getWeather"])}};const qe=(0,y.Z)(Re,[["render",ke]]);var Pe=qe,Ye={components:{Header:k,Main:pe,Week:Pe},methods:{...(0,v.nv)(["getWeather"])},computed:{...(0,v.Se)(["getFullWeather"])},created(){setTimeout((()=>{this.getWeather("Tashkent")}),1e3)}};const Ee=(0,y.Z)(Ye,[["render",u]]);var Ne=Ee,Ve=n(4161);const Be=(0,v.MT)({state:{apiKey:"c21b12cdc3325bcf91ba8900f85608de",getFullWeather:null},mutations:{getWeather(e,t){e.getFullWeather=t}},actions:{async getWeather({commit:e,state:t},n){try{const a=await Ve.Z.get(`https://api.openweathermap.org/geo/1.0/direct?q=${n}&appid=${t.apiKey}`);let r=a.data[0],{lat:i,lon:s}=r,l=r.local_names.ru;const c=await Ve.Z.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${i}&lon=${s}&exclude=minutely,hourly,alerts&appid=${t.apiKey}&units=metric&lang=ru`);let u=c.data,o={...u,name:l};console.log(o),e("getWeather",o)}catch(a){}}},getters:{getFullWeather:e=>e.getFullWeather,getDailyWeather(e){let t=e.getFullWeather.daily;return t.pop(),t}}});var Ge=Be;const Ie=(0,a.ri)(Ne);Ie.use(Ge),Ie.mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,i){if(!a){var s=1/0;for(o=0;o<e.length;o++){a=e[o][0],r=e[o][1],i=e[o][2];for(var l=!0,c=0;c<a.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(l=!1,i<s&&(s=i));if(l){e.splice(o--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[a,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/vue-weather/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,i,s=a[0],l=a[1],c=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)var o=c(n)}for(t&&t(a);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(o)},a=self["webpackChunkvue_weather"]=self["webpackChunkvue_weather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4176)}));a=n.O(a)})();
//# sourceMappingURL=app.2a742b2c.js.map